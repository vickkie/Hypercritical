import MouseFollower from"mouse-follower";let select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e);gsap.registerPlugin(ScrollTrigger,ScrollSmoother),ScrollSmoother.create({smooth:1,effects:!0,smoothTouch:.1});let midmoon=select(".mid-moon"),menuclose=select(".action--close"),menuopen=select(".action--menuUzi");function open(){midmoon.classList.add("mid-moon--light"),midmoon.classList.remove("mid-moon--dark")}function close(){midmoon.classList.add("mid-moon--dark"),midmoon.classList.remove("mid-moon--light")}function assignLinks(e){for(const o in e)if(e.hasOwnProperty(o)){selectAll(o).forEach((t=>{t?t.href=e[o]:console.error(`Elements matching selector ${o} not found.`)}))}}function assignExp(e){for(const o in e)if(e.hasOwnProperty(o)){selectAll(o).forEach((t=>{t?t.innerHTML=e[o]:console.error(`Elements matching selector ${o} not found.`)}))}}function lineTimeline(e){const o=gsap.timeline({defaults:{duration:3,ease:"power3.out"}});return o.fromTo(e,{scaleX:0,opacity:0,transformOrigin:"left left"},{scaleX:1,opacity:1}),o}menuopen.addEventListener("click",open),menuclose.addEventListener("click",close),new Promise(((e,o)=>{document.addEventListener("DOMContentLoaded",(function(){fetch("includes/config.json").then((e=>e.json())).then((o=>{assignLinks(o),e()})).catch((e=>{console.error("Error loading config:",e),o(e)}))}))})).then((()=>{console.log("%c Greetings from Hypercritical","color:white;background:#c389e1; font-size: 26px;font-family:sans-serif")})).catch((e=>{console.error("Failed to load configuration or assign links:",e)})),new Promise(((e,o)=>{document.addEventListener("DOMContentLoaded",(function(){fetch("includes/config-data.json").then((e=>e.json())).then((o=>{assignExp(o),e()})).catch((e=>{console.error("Error loading config:",e),o(e)}))}))})).then((()=>{})).catch((e=>{console.error("Failed to load configuration or assign links:",e)})),assignExp(),selectAll("[line-trigger]").forEach((function(e){const o=e.getAttribute("line-trigger"),t=lineTimeline(e);ScrollTrigger.create({trigger:o,start:"top 92%",animation:t,onEnter:()=>t.play(),onLeaveBack:()=>t.reverse({duration:6.5})})})),document.addEventListener("DOMContentLoaded",(function(){let e=select("#toTop");function o(){(window.scrollY||document.documentElement.scrollTop)>1.2*window.innerHeight?e.style.display="block":e.style.display="none"}o(),window.addEventListener("scroll",o),e.addEventListener("click",(function(){gsap.to(window,{duration:2,delay:0,scrollTo:{y:".hero-main"},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})}))})),document.addEventListener("DOMContentLoaded",(function(){function e(){if(innerWidth>767){new MouseFollower({speed:.6});let e=select(".sniper"),o=select(".snipersvg"),t=selectAll(["a","details"]),n=selectAll(".snipedblack"),r=(selectAll(".snipedwhite"),document.documentElement);new MouseFollower({el:e});t.forEach(((e,t)=>{let n=document.documentElement;o.classList.add("rotate-cursorr"),n.style.setProperty("--sniper-color","var(--main-sub")})),n.forEach((e=>{e.addEventListener("mouseenter",(()=>{r.style.setProperty("--sniper-color","#000")})),e.addEventListener("mouseleave",(()=>{r.style.setProperty("--sniper-color","var(--main-sub")}))}))}}e(),window.addEventListener("resize",e)}));let headertl=gsap.timeline({scrollTrigger:{trigger:".policy-header",start:"center top"}});headertl.addLabel("start").fromTo(".nav",{backdropFilter:"blur(0px)"},{backdropFilter:"blur(5px)",duration:.2,ease:"power3.out"}),gsap.registerPlugin(SplitText);const herolargelogo=select(".h-mega");let herotext=new SplitText(herolargelogo,{type:"chars",charsClass:"split-chars"}),splittext=gsap.utils.toArray(".split-chars");function animatehero(){gsap.timeline().addLabel("start").from(splittext,{delay:.6,duration:1.2,y:120},"start").from(".terms-hero",{y:"5%",duration:1.2},"start")}function changeColors(){gsap.timeline({scrollTrigger:{trigger:".footer",start:"top top",toggleActions:"play none none reverse"}}).addLabel("start").fromTo(".nav_logo_parent",{color:"var(--color-black)"},{color:"var(--color-bg)",duration:.1,ease:"power4.out"}).fromTo(".est_nav svg",{fill:"var(--color-black)"},{fill:"var(--color-bg)",duration:.1,ease:"power4.out"})}window.onload=()=>{animatehero(),setTimeout((()=>{changeColors()}),4e3)};