import MouseFollower from"mouse-follower";import Vanilla from"./ProjectVanilla";import lozad from"lozad";let select=o=>document.querySelector(o),selectAll=o=>document.querySelectorAll(o);gsap.registerPlugin(ScrollTrigger,ScrollSmoother);const observer=lozad(".lozad",{rootMargin:"100px 0px",loaded:function(o){}});observer.observe();let midmoon=select(".mid-moon"),menuclose=select(".action--close"),menuopen=select(".action--menuUzi");function open(){midmoon.classList.add("mid-moon--light"),midmoon.classList.remove("mid-moon--dark")}function close(){midmoon.classList.add("mid-moon--dark"),midmoon.classList.remove("mid-moon--light")}function AnimateArrows(o){let e=select(".thirtyworks"),n=selectAll(".thirty-left svg"),t=selectAll(".thirty-right svg"),r=gsap.timeline({repeat:-1,paused:!0});r.addLabel("start",0).to(n,{duration:2,x:-30,ease:"none"},"start").to(t,{duration:2,x:30,ease:"none"},"start").to(n,{duration:2,x:0,ease:"none"},"start+=2").to(t,{duration:2,x:0,ease:"none"},"start+=2"),e.addEventListener("mouseenter",(()=>{r.play()})),e.addEventListener("mouseleave",(()=>{r.pause()}))}function assignLinks(o){for(const e in o)if(o.hasOwnProperty(e)){selectAll(e).forEach((n=>{n?n.href=o[e]:console.error(`Elements matching selector ${e} not found.`)}))}}function assignExp(o){for(const e in o)if(o.hasOwnProperty(e)){selectAll(e).forEach((n=>{n?n.innerHTML=o[e]:console.error(`Elements matching selector ${e} not found.`)}))}}menuopen.addEventListener("click",open),menuclose.addEventListener("click",close),new Promise(((o,e)=>{document.addEventListener("DOMContentLoaded",(function(){fetch("includes/config.json").then((o=>o.json())).then((e=>{assignLinks(e),o()})).catch((o=>{console.error("Error loading config:",o),e(o)}))}))})).then((()=>{console.log("%c Greetings from Hypercritical","color:white;background:#c389e1; font-size: 26px;font-family:sans-serif")})).catch((o=>{console.error("Failed to load configuration or assign links:",o)})),new Promise(((o,e)=>{document.addEventListener("DOMContentLoaded",(function(){fetch("includes/config-data.json").then((o=>o.json())).then((e=>{assignExp(e),o()})).catch((o=>{console.error("Error loading config:",o),e(o)}))}))})).then((()=>{Vanilla(),AnimateArrows()})).catch((o=>{console.error("Failed to load configuration or assign links:",o)})),assignExp(),document.addEventListener("DOMContentLoaded",(function(){function o(){if(innerWidth>767){new MouseFollower}}o(),window.addEventListener("resize",o)})),document.addEventListener("DOMContentLoaded",(function(){let o=select("#toTop");function e(){(window.scrollY||document.documentElement.scrollTop)>1.2*window.innerHeight?o.style.display="block":o.style.display="none"}e(),window.addEventListener("scroll",e),o.addEventListener("click",(function(){gsap.to(window,{duration:2,delay:0,scrollTo:{y:".hero-main"},ease:o=>Math.min(1,1.001-Math.pow(2,-10*o))})}))})),document.addEventListener("DOMContentLoaded",(()=>{gsap.registerPlugin(ScrollTrigger);const o=gsap.utils.toArray(".white-section");var e=select(".top-arrow-wrapper"),n=select(".top-arrow-path"),t=select(".menu-name"),r=selectAll(".menu-dot-line");let l=select(".nav .below-line"),s=select(".nav_logo_parent"),c=select(".est_nav");function a(){n.style.stroke="var(--color-bg)",e.style.fill="var(--color-black)",r.forEach((o=>{o.style.background="var(--color-black)"})),t.style.color="var(--color-black)"}function i(){c.style.fill="var(--color-bg)",l.style.background="var(--color-bg)",s.style.color="var(--color-bg)",r.forEach((o=>{o.style.background="var(--color-bg)"})),t.style.color="var(--color-bg)"}function d(){(window.scrollY||document.documentElement.scrollTop)<.8*window.innerHeight&&i()}d(),window.addEventListener("scroll",d),o.forEach(((o,d)=>{gsap.timeline({scrollTrigger:{trigger:o,id:d+1,start:"top top",endtrigger:o,end:"bottom bottom",scrub:!0,markers:!1,onEnter:()=>(n.style.stroke="var(--color-black)",c.style.fill="var(--color-black)",l.style.background="var(--color-black)",s.style.color="var(--color-black)",e.style.fill="var(--color-black)",r.forEach((o=>{o.style.background="var(--color-black)"})),void(t.style.color="var(--color-black)")),onLeave:()=>a(),onEnterBack:()=>i(),onLeaveBack:()=>a()}})}))}));