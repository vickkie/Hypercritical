const express=require("express"),admin=require("firebase-admin"),cors=require("cors"),dotenv=require("dotenv");dotenv.config();const app=express();app.use(cors()),app.use(express.json());const serviceAccount=require("../../secure/serviceAccountKey.json");admin.initializeApp({credential:admin.credential.cert(serviceAccount),databaseURL:process.env.FIREBASE_DATABASE_URL}),app.post("/login",(async(e,s)=>{const{email:r,password:n}=e.body;try{const e=await admin.auth().getUserByEmail(r);s.status(200).send({message:"Login successful",user:e})}catch(e){s.status(401).send({message:"Login failed",error:e.message})}}));const PORT=process.env.PORT||3e3;app.listen(PORT,(()=>console.log(`Server running on port ${PORT}`)));