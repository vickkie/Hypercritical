import MouseFollower from"mouse-follower";const connectDB=require("./db"),mongoose=require("mongoose");let select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e);gsap.registerPlugin(ScrollTrigger,ScrollSmoother),ScrollSmoother.create({smooth:1,effects:!0,smoothTouch:.1});let mouseFollower=new MouseFollower;function assignLinks(e){for(const t in e)if(e.hasOwnProperty(t)){selectAll(t).forEach((o=>{o?o.href=e[t]:console.error(`Elements matching selector ${t} not found.`)}))}}function showDialog(){gsap.to("#overlay",{duration:.5,opacity:1,scale:1,onComplete:()=>{gsap.to("#dialog",{duration:.5,scale:1,opacity:1,ease:"bounce"})}})}function hideDialog(){gsap.to("#dialog",{duration:.5,scale:0,opacity:0,onComplete:()=>{gsap.to("#overlay",{duration:.5,opacity:0,scale:0})}})}new Promise(((e,t)=>{document.addEventListener("DOMContentLoaded",(function(){fetch("includes/config.json").then((e=>e.json())).then((t=>{assignLinks(t),e()})).catch((e=>{console.error("Error loading config:",e),t(e)}))}))})).then((()=>{console.log("%c Greetings from Hypercritical","color:white;background:#c389e1; font-size: 26px;font-family:sans-serif")})).catch((e=>{console.error("Failed to load configuration or assign links:",e)}));const consultationSchema=new mongoose.Schema({name:String,message:String,budget:String,consultationType:String,email:String,date:Date}),Consultation=mongoose.model("Consultation",consultationSchema);document.getElementById("consultationForm").addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("message").value,o=document.getElementById("email").value,n=document.getElementById("yourname").value,r=document.getElementById("Web-Design").checked,l=document.getElementById("SEO").checked,a=document.getElementById("Development").checked,c=document.getElementById("Other").checked,i="";r&&(i+="Web Design, "),l&&(i+="SEO, "),a&&(i+="Development, "),c&&(i+="Other, "),i=i.slice(0,-2);for(var s="",d=document.getElementsByName("priceGroup"),g=0;g<d.length;g++)if(d[g].checked){s=d[g].id;break}connectDB().then((e=>{e.collection("consultations");new Consultation({name:n,message:t,budget:s,consultationType:i,email:o,date:new Date}).save().then((e=>{console.log("Data inserted with ID:",e._id),showDialog(),document.getElementById("consultationForm").reset()})).catch((e=>{console.error("Error inserting data:",e)}))})).catch((e=>{console.error("Error connecting to database:",e)}))})),select(".close-dialog").addEventListener("click",hideDialog);let checkboxes=selectAll('input[type="checkbox"]');const changeColor=e=>{e.target.parentNode.querySelector(".checkbox-input").classList.toggle("clicked-color"),e.target.parentNode.querySelector(".checkbox-text").classList.toggle("clicked-text")};checkboxes.forEach((e=>{e.addEventListener("change",changeColor)}));let checkradios=selectAll('input[type="radio"]');const changeColorr=e=>{let t=e.target.parentNode.querySelector(".radio-text");selectAll(".radio-text").forEach((e=>e.parentElement.classList.remove("clicked"))),t.parentElement.classList.add("clicked")};checkradios.forEach((e=>{e.addEventListener("change",changeColorr)})),document.addEventListener("DOMContentLoaded",(function(){let e=select("#toTop");function t(){(window.scrollY||document.documentElement.scrollTop)>1.2*window.innerHeight?e.style.display="block":e.style.display="none"}t(),window.addEventListener("scroll",t),e.addEventListener("click",(function(){gsap.to(window,{duration:2,delay:0,scrollTo:{y:".hero-main"},ease:e=>Math.min(1,1.001-Math.pow(2,-10*e))})}))})),document.addEventListener("DOMContentLoaded",(function(){function e(){if(innerWidth>767){new MouseFollower}}e(),window.addEventListener("res",e)}));let headertl=gsap.timeline({scrollTrigger:{trigger:".socials-header",start:"center top"}});headertl.addLabel("start").fromTo(".nav",{backdropFilter:"blur(0px)"},{backdropFilter:"blur(5px)",duration:.2,ease:"power3.out"}),gsap.registerPlugin(SplitText);const herolargelogo=select(".heading-2.split-chars");let herotext=new SplitText(herolargelogo,{type:"chars",charsClass:"splitted"}),splittext=gsap.utils.toArray(".splitted");function animatehero(){gsap.timeline().addLabel("start").from(splittext,{delay:.6,duration:1.2,y:120},"start").from(".get-in-touch",{y:"5%",duration:1.2},"start")}function changeColors(){gsap.timeline({scrollTrigger:{trigger:".footer",start:"top top",toggleActions:"play none none reverse"}}).addLabel("start").fromTo(".nav_logo_parent",{color:"var(--color-black)"},{color:"var(--color-bg)",duration:.1,ease:"power4.out"}).fromTo(".est_nav svg",{fill:"var(--color-black)"},{fill:"var(--color-bg)",duration:.1,ease:"power4.out"})}document.addEventListener("DOMContentLoaded",(()=>{setInterval((()=>{let e=document.getElementById("tidio-chat-iframe");e&&e.id;if(e){!function(){let t=e.contentWindow.document.querySelector(".tidio-5hhiig");t&&(t.style.display="none")}()}}),1e3)})),window.onload=()=>{animatehero(),setTimeout((()=>{changeColors()}),4e3)};